!function(e,o,n){"use strict";function t(o,n){e.ajax({url:o,type:"GET",dataType:"json",async:!1,data:{code:n}}).done(function(e){console.log(e),"0"===e.error?window.location.href=a:(localStorage.setItem("openId",e.openid),window.openId=e.openid)}).fail(function(){console.log("error")})}var i={parse:function(e){var o=/[\?&]([^\?&=]+)=([^&]+)/g,n=null,t={};for(e=e||window.location.search;null!=(n=o.exec(e));)t[n[1]]=decodeURIComponent(n[2]);return t},get:function(e,o){var n=this.parse(o);return n[e]?n[e]:""},check:function(e){var o=/^https?:\/\/[a-z]+\.fenqile\.com\//i,n=!0;return/^https?/.test(e)&&(n=o.test(e)),n}},d=window.location.href,c=location.href.split("#")[0],a="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+window.juli.appid+"&redirect_uri="+c+"&response_type=code&scope=snsapi_base#wechat_redirect",r=i.get("code",d);window.openId="",window.deviceId="",""!==localStorage.getItem("openId")&&null!==localStorage.getItem("openId")||t(juli.URL.codeid,r),window.getDeviceId=function(o){e.ajax({url:juli.URL.getdevice,type:"GET",dataType:"html",async:!1,data:{openId:o}}).done(function(e){window.deviceId=e,""!==window.deviceId&&window.deviceId!==n||(window.location.href="doscaninfo.html")}).fail(function(){console.log("error")})}}(jQuery,window);